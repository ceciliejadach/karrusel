---
import "../styles/generel.css";
import Card from "../components/Card.astro";
import MainLayout from "../layouts/MainLayout.astro";

const artist = await fetch("https://couztkypuvadixszzvmk.supabase.co/rest/v1/KarruselFestival", {
  method: "GET",
  headers: {
    apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNvdXp0a3lwdXZhZGl4c3p6dm1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTA0MDk2NDgsImV4cCI6MjAyNTk4NTY0OH0.oMKp-E0V7IIEqcgHIkiLPHgJ0ErGic-JPce1db7I5js",
  },
}).then((response) => {
  return response.json();
});

console.log("artist", artist);
---

<MainLayout title="Hjem">
  <section class="artist">
    {
      artist.map((artist) => {
        return <Card data={artist} />;
      })
    }
  </section>
  <iframe controls autoplay width="560" height="315" src="https://www.youtube.com/embed/w5XwDzNwiSk?si=ARVhgd0x5-ZI83Ez" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
  <section class="countdown_container">
    <h1>Countdown til Karrusel Festival</h1>
    <div id="countdown" class="countdown">
      <ul>
        <li><span id="days">00</span>dage</li>
        <li><span id="hours">00</span>timer</li>
        <li class="separator">:</li>
        <li><span id="minutes">00</span>minutter</li>
        <li class="separator">:</li>
        <li><span id="seconds">00</span>sekunder</li>
      </ul>
    </div>
  </section>
</MainLayout>

<style>
  .artist {
    display: flex;
    justify-content: space-between;
    overflow: hidden;
  }

  .countdown_container h1 {
    margin: 4rem 0 2rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-align: center;
  }

  ul {
    display: flex;
    justify-content: center;
    border: solid 1px var(---text-color);
    padding: 2rem 0;
  }

  ul li {
    list-style-type: none;
    text-transform: uppercase;
    text-align: center;
  }

  li span {
    display: block;
  }

  li.separator {
    margin: 0 10px;
    line-height: 1;
    color: var(---text-color);
  }

  /* li:first-of-type {
    margin-right: 5rem;
  } */
</style>

<script></script>
